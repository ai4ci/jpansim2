<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Thu Feb 12 13:26:30 UTC 2026 -->
<title>StateUtils (jpansim2 0.3.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-12">
<meta name="description" content="declaration: package: io.github.ai4ci.flow.mechanics, class: StateUtils">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/StateUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.ai4ci.flow.mechanics</a></div>
<h1 title="Class StateUtils" class="title">Class StateUtils</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.github.ai4ci.flow.mechanics.StateUtils</div>
</div>
<section class="class-description" id="class-description">
<hr>
<object type="image/svg+xml" data="StateUtils.svg"  style="max-width:60%;float:right;"></object>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-48">StateUtils</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Utility methods for state transitions, behavior modifications, and testing
 logic within the agent-based modeling framework.

 <p>
 This class provides reusable implementations for common state machine
 operations including mobility adjustments, testing procedures, compliance
 management, and controlled state transitions with branching support.

 <h2>Key Functionality Areas</h2>
 <ul>
 <li><b>Testing Interfaces</b>: Default interfaces for PCR testing
 behaviors</li>
 <li><b>Mobility Control</b>: Methods for modifying agent sociability based on
 symptoms and compliance</li>
 <li><b>Behavior Restoration</b>: Gradual restoration of normal behavior after
 restrictions</li>
 <li><b>State Branching</b>: Controlled temporary state transitions with
 automatic return paths</li>
 <li><b>Testing Logic</b>: Screening and diagnostic testing with eligibility
 checks</li>
 </ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="State.html" title="interface in io.github.ai4ci.flow.mechanics"><code>State</code></a></li>
<li><a href="StateMachine.html" title="class in io.github.ai4ci.flow.mechanics"><code>StateMachine</code></a></li>
<li><a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics"><code>State.BehaviourState</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="StateUtils.DefaultNoTesting.html" class="type-name-link" title="interface in io.github.ai4ci.flow.mechanics">StateUtils.DefaultNoTesting</a></code></div>
<div class="col-last even-row-color">
<div class="block">Interface for behavior states that require no testing or history updates.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="StateUtils.DoesPCRIfSymptomatic.html" class="type-name-link" title="interface in io.github.ai4ci.flow.mechanics">StateUtils.DoesPCRIfSymptomatic</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Interface for behavior states that perform PCR testing when symptomatic.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">StateUtils</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#branchPeopleTo(io.github.ai4ci.abm.OutbreakState,io.github.ai4ci.flow.mechanics.State.BehaviourState)" class="member-name-link">branchPeopleTo</a><wbr>(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;behaviour)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Branches all people to specified behavior without filtering.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#branchPeopleTo(io.github.ai4ci.abm.OutbreakState,io.github.ai4ci.flow.mechanics.State.BehaviourState,java.util.function.Predicate)" class="member-name-link">branchPeopleTo</a><wbr>(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;behaviour,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&gt;&nbsp;filter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Branches filtered people to specified behavior state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#branchTo(io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.State.BehaviourState)" class="member-name-link">branchTo</a><wbr>(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;current,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;behaviour)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Branches single person to specified behavior state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#complianceFatigue(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">complianceFatigue</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies gradual compliance deterioration over time (fatigue effect).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#complianceRestoreSlowly(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">complianceRestoreSlowly</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Restores compliance modifier toward baseline over time.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#countdown(int,io.github.ai4ci.flow.mechanics.State.BehaviourState)" class="member-name-link">countdown</a><wbr>(int&nbsp;i,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a timed behavior state that automatically returns after i
 iterations.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#decayTo(double,double,double)" class="member-name-link">decayTo</a><wbr>(double&nbsp;p,
 double&nbsp;target,
 double&nbsp;rate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies exponential decay toward target value based on rate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#decreaseSociabilityIfCompliant(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">decreaseSociabilityIfCompliant</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Self-isolation behavior applied only if person is compliant.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#decreaseSociabilityIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">decreaseSociabilityIfSymptomatic</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies self-isolation mobility reduction if person is compliant AND
 symptomatic.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#decreaseSociabilitySlowlyIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">decreaseSociabilitySlowlyIfSymptomatic</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Gradually decreases mobility modifier each day person is symptomatic.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#decreaseSociabilityStrictly(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">decreaseSociabilityStrictly</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies strict mobility reduction regardless of compliance status.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#doLFT(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext)" class="member-name-link">doLFT</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Performs diagnostic LFT test and updates reactive testing flag.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#doPCR(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext)" class="member-name-link">doPCR</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Performs diagnostic PCR test and updates reactive testing flag.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#graduallyRestoreBehaviour(int,io.github.ai4ci.flow.mechanics.State.BehaviourState)" class="member-name-link">graduallyRestoreBehaviour</a><wbr>(int&nbsp;i,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a behavior state that gradually restores mobility over iterations.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isHighRiskOfInfectionAndCompliant(io.github.ai4ci.abm.PersonState,double)" class="member-name-link">isHighRiskOfInfectionAndCompliant</a><wbr>(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 double&nbsp;cutoff)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if person has high risk of being infectious and is compliant.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isLFTTestingAllowed(io.github.ai4ci.abm.PersonState)" class="member-name-link">isLFTTestingAllowed</a><wbr>(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks eligibility for LFT testing based on recent test history.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isPCRTestingAllowed(io.github.ai4ci.abm.PersonState)" class="member-name-link">isPCRTestingAllowed</a><wbr>(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks eligibility for PCR testing based on recent test history.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isPositiveTestToday(io.github.ai4ci.abm.PersonState)" class="member-name-link">isPositiveTestToday</a><wbr>(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if person received a positive test result today.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isSymptomaticAndCompliant(io.github.ai4ci.abm.PersonState,int)" class="member-name-link">isSymptomaticAndCompliant</a><wbr>(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 int&nbsp;days)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if person has been symptomatic for specified days and is compliant.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#randomlyScreen(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,double,io.github.ai4ci.util.Sampler)" class="member-name-link">randomlyScreen</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;ps,
 double&nbsp;screeningProbability,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies individual PCR screening test based on probability.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#randomlyScreen(io.github.ai4ci.abm.OutbreakState,io.github.ai4ci.util.Sampler)" class="member-name-link">randomlyScreen</a><wbr>(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Applies random screening PCR tests to eligible population.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#resetBehaviour(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">resetBehaviour</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;current)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Resets mobility and transmissibility modifiers to baseline (1.0).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#restoreSociabilitySlowly(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">restoreSociabilitySlowly</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Unconditional gradual restoration of mobility and transmissibility to
 baseline.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#restoreSociabilitySlowlyIfAsymptomatic(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">restoreSociabilitySlowlyIfAsymptomatic</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Gradually restores mobility and transmissibility toward baseline when
 asymptomatic.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#returnPeopleFromBranch(io.github.ai4ci.abm.OutbreakState)" class="member-name-link">returnPeopleFromBranch</a><wbr>(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns all people to their previous behavior states from branches.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#screenLFT(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">screenLFT</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Performs asymptomatic screening LFT test without reactivity tracking.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#screenPCR(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState)" class="member-name-link">screenPCR</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Performs asymptomatic screening PCR test without reactive testing flag.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#seekPcrIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext)" class="member-name-link">seekPcrIfSymptomatic</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Performs diagnostic PCR test with 1-day symptom threshold.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#seekPcrIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext,int)" class="member-name-link">seekPcrIfSymptomatic</a><wbr>(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context,
 int&nbsp;days)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">The person will test themselves using PCR (immediately) if they are
 symptomatic consecutively for a number of days, compliant and they have
 not recently been tested.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#toLastBranchPoint(io.github.ai4ci.flow.mechanics.StateMachineContext)" class="member-name-link">toLastBranchPoint</a><wbr>(<a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves previous behavior state from branch stack.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>StateUtils</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-48">StateUtils</a></span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="branchPeopleTo(io.github.ai4ci.abm.OutbreakState,io.github.ai4ci.flow.mechanics.State.BehaviourState)">
<h3>branchPeopleTo</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-110">branchPeopleTo</a></span><wbr><span class="parameters">(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;behaviour)</span></div>
<div class="block">Branches all people to specified behavior without filtering.

 Convenience method that applies to entire population without filters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - current outbreak state</dd>
<dd><code>behaviour</code> - target behavior state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="branchPeopleTo(io.github.ai4ci.abm.OutbreakState,io.github.ai4ci.flow.mechanics.State.BehaviourState,java.util.function.Predicate)">
<h3>branchPeopleTo</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-132">branchPeopleTo</a></span><wbr><span class="parameters">(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;behaviour,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&gt;&nbsp;filter)</span></div>
<div class="block">Branches filtered people to specified behavior state.

 <p>
 Forces selected people to temporary behavior state while preserving
 current state in branch stack for later recovery. Dead people are
 excluded.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - current outbreak state</dd>
<dd><code>behaviour</code> - target behavior state</dd>
<dd><code>filter</code> - predicate to select which people to modify</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="branchTo(io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.State.BehaviourState)">
<h3>branchTo</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-153">branchTo</a></span><wbr><span class="parameters">(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;current,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;behaviour)</span></div>
<div class="block">Branches single person to specified behavior state.

 <p>
 Preserves current state in branch stack and returns the target behavior
 for immediate use in state transitions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - person state to modify</dd>
<dd><code>behaviour</code> - target behavior state</dd>
<dt>Returns:</dt>
<dd>the target behavior state for chaining</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="complianceFatigue(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>complianceFatigue</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-170">complianceFatigue</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Applies gradual compliance deterioration over time (fatigue effect).

 <p>
 Reduces compliance modifier linearly toward zero using configuration
 deterioration rate. Models behavioral fatigue in sustained restrictions.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="complianceRestoreSlowly(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>complianceRestoreSlowly</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-194">complianceRestoreSlowly</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Restores compliance modifier toward baseline over time.

 <p>
 Increases compliance modifier linearly toward 1.0 using configuration
 improvement rate. Used during recovery or improved compliance scenarios.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="countdown(int,io.github.ai4ci.flow.mechanics.State.BehaviourState)">
<h3>countdown</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-222">countdown</a></span><wbr><span class="parameters">(int&nbsp;i,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;state)</span></div>
<div class="block">Creates a timed behavior state that automatically returns after i
 iterations.

 <p>
 Wraps a target state to automatically revert after specified iterations.
 Uses state machine branching to preserve the baseline state and recover
 automatically when countdown expires.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>i</code> - number of iterations before automatic return</dd>
<dd><code>state</code> - target behavior state to temporarily apply</dd>
<dt>Returns:</dt>
<dd>a wrapped state that automatically reverts after countdown</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decayTo(double,double,double)">
<h3>decayTo</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-266">decayTo</a></span><wbr><span class="parameters">(double&nbsp;p,
 double&nbsp;target,
 double&nbsp;rate)</span></div>
<div class="block">Applies exponential decay toward target value based on rate.

 <p>
 Modifies parameter p by decaying it toward target using the specified
 rate. The rate is converted to a probability for the decay step. Used for
 smooth transitions in mobility or compliance modifiers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>p</code> - current parameter value to modify</dd>
<dd><code>target</code> - target value to decay toward (e.g., 0 for reduction, 1 for
               restoration)</dd>
<dd><code>rate</code> - decay rate controlling speed of change (higher = faster)</dd>
<dt>Returns:</dt>
<dd>the modified parameter value after applying decay step</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decreaseSociabilityIfCompliant(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>decreaseSociabilityIfCompliant</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-285">decreaseSociabilityIfCompliant</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Self-isolation behavior applied only if person is compliant.

 <p>
 Models advisory-based isolation where compliance determines adherence to
 recommendations rather than enforced restrictions. Used in scenarios where
 isolation is suggested but not mandatory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decreaseSociabilityIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>decreaseSociabilityIfSymptomatic</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-306">decreaseSociabilityIfSymptomatic</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Applies self-isolation mobility reduction if person is compliant AND
 symptomatic.

 <p>
 This is typically used for voluntary isolation scenarios where compliance
 determines whether the isolation measures are followed. Side effects:
 <ul>
 <li>Sets mobility modifier to self-isolation depth if compliant</li>
 <li>No action taken if person is non-compliant</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decreaseSociabilitySlowlyIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>decreaseSociabilitySlowlyIfSymptomatic</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-325">decreaseSociabilitySlowlyIfSymptomatic</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Gradually decreases mobility modifier each day person is symptomatic.

 <p>
 Applies continuous mobility reduction using exponential decay toward the
 self-isolation depth. The decay rate is controlled by the organic mobility
 change parameter from model configuration.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decreaseSociabilityStrictly(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>decreaseSociabilityStrictly</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-351">decreaseSociabilityStrictly</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Applies strict mobility reduction regardless of compliance status.

 <p>
 Models enforced lock-down scenarios where mobility restrictions are
 mandatory rather than advisory. Sets mobility to the minimum
 self-isolation depth defined in the baseline configuration.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doLFT(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext)">
<h3>doLFT</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-369">doLFT</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</span></div>
<div class="block">Performs diagnostic LFT test and updates reactive testing flag.

 <p>
 Similar to PCR testing but uses LFT (Lateral Flow Test) with different
 sensitivity characteristics. Sets reactive testing flag.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>person</code> - current person state</dd>
<dd><code>context</code> - state machine context</dd>
<dt>Returns:</dt>
<dd>the test result generated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doPCR(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext)">
<h3>doPCR</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-391">doPCR</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</span></div>
<div class="block">Performs diagnostic PCR test and updates reactive testing flag.

 <p>
 Used for diagnostic testing triggered by symptoms or risk exposure. Sets
 reactive testing flag and adds test result to person's daily history.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>person</code> - current person state</dd>
<dd><code>context</code> - state machine context</dd>
<dt>Returns:</dt>
<dd>the test result generated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="graduallyRestoreBehaviour(int,io.github.ai4ci.flow.mechanics.State.BehaviourState)">
<h3>graduallyRestoreBehaviour</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-413">graduallyRestoreBehaviour</a></span><wbr><span class="parameters">(int&nbsp;i,
 <a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a>&nbsp;state)</span></div>
<div class="block">Creates a behavior state that gradually restores mobility over iterations.

 <p>
 Applies linear restoration of mobility and transmissibility modifiers
 toward baseline while maintaining the wrapped state's logic. Restoration
 continues only while the person is asymptomatic.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>i</code> - number of iterations over which to restore behavior</dd>
<dd><code>state</code> - target behavior state to apply during restoration</dd>
<dt>Returns:</dt>
<dd>a wrapped state that gradually restores behavior</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isHighRiskOfInfectionAndCompliant(io.github.ai4ci.abm.PersonState,double)">
<h3>isHighRiskOfInfectionAndCompliant</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-477">isHighRiskOfInfectionAndCompliant</a></span><wbr><span class="parameters">(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 double&nbsp;cutoff)</span></div>
<div class="block">Checks if person has high risk of being infectious and is compliant.

 <p>
 Evaluates if person's probability of being infectious today exceeds the
 specified cutoff and if they are compliant with testing protocols. Used to
 identify individuals who should be prioritized for testing or isolation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>person</code> - current person state to evaluate</dd>
<dd><code>cutoff</code> - probability threshold for high risk of infection</dd>
<dt>Returns:</dt>
<dd>true if person is high risk and compliant, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isLFTTestingAllowed(io.github.ai4ci.abm.PersonState)">
<h3>isLFTTestingAllowed</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-494">isLFTTestingAllowed</a></span><wbr><span class="parameters">(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Checks eligibility for LFT testing based on recent test history.

 <p>
 Uses shorter restriction period (2 days) since LFTs are typically used
 more frequently than PCR tests.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>person</code> - current person state to evaluate</dd>
<dt>Returns:</dt>
<dd>true if LFT testing is allowed, false if tested within 2 days</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPCRTestingAllowed(io.github.ai4ci.abm.PersonState)">
<h3>isPCRTestingAllowed</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-508">isPCRTestingAllowed</a></span><wbr><span class="parameters">(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Checks eligibility for PCR testing based on recent test history.

 <p>
 Prevents excessive testing by ensuring person hasn't been tested within
 the disease incubation period defined in configuration.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>person</code> - current person state to evaluate</dd>
<dt>Returns:</dt>
<dd>true if PCR testing is allowed, false if recently tested</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isPositiveTestToday(io.github.ai4ci.abm.PersonState)">
<h3>isPositiveTestToday</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-522">isPositiveTestToday</a></span><wbr><span class="parameters">(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Checks if person received a positive test result today.

 <p>
 Scans today's test results for positive outcomes. Primarily used with LFT
 results since they provide immediate feedback.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>person</code> - current person state to evaluate</dd>
<dt>Returns:</dt>
<dd>true if positive test result exists for today</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isSymptomaticAndCompliant(io.github.ai4ci.abm.PersonState,int)">
<h3>isSymptomaticAndCompliant</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-541">isSymptomaticAndCompliant</a></span><wbr><span class="parameters">(<a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 int&nbsp;days)</span></div>
<div class="block">Checks if person has been symptomatic for specified days and is compliant.

 <p>
 Used to determine if symptom-driven testing or isolation should be
 triggered based on consecutive symptom duration and compliance status.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>person</code> - current person state to evaluate</dd>
<dd><code>days</code> - number of consecutive symptomatic days required</dd>
<dt>Returns:</dt>
<dd>true if symptomatic for specified days and compliant, false
         otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="randomlyScreen(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,double,io.github.ai4ci.util.Sampler)">
<h3>randomlyScreen</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-569">randomlyScreen</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;ps,
 double&nbsp;screeningProbability,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</span></div>
<div class="block">Applies individual PCR screening test based on probability.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>ps</code> - current person state</dd>
<dd><code>screeningProbability</code> - probability of screening test occurring</dd>
<dd><code>rng</code> - random number generator for probability check</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="randomlyScreen(io.github.ai4ci.abm.OutbreakState,io.github.ai4ci.util.Sampler)">
<h3>randomlyScreen</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-587">randomlyScreen</a></span><wbr><span class="parameters">(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</span></div>
<div class="block">Applies random screening PCR tests to eligible population.

 <p>
 Selects living people with available history builders and applies
 screening probability check. Throws exception if called at wrong lifecycle
 timing.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - current outbreak state</dd>
<dd><code>rng</code> - random number generator for probability checks</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="resetBehaviour(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>resetBehaviour</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-612">resetBehaviour</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;current)</span></div>
<div class="block">Resets mobility and transmissibility modifiers to baseline (1.0).

 <p>
 Immediately restores normal behavior without gradual transition. Used when
 forced behavior reset is needed (e.g., policy changes, state transitions).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>current</code> - person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restoreSociabilitySlowly(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>restoreSociabilitySlowly</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-631">restoreSociabilitySlowly</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Unconditional gradual restoration of mobility and transmissibility to
 baseline.

 <p>
 Applies exponential decay restoration toward full mobility (1.0)
 regardless of symptomatic status. Uses the organic mobility change rate
 from configuration to control restoration speed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="restoreSociabilitySlowlyIfAsymptomatic(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.PersonState)">
<h3>restoreSociabilitySlowlyIfAsymptomatic</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-664">restoreSociabilitySlowlyIfAsymptomatic</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Gradually restores mobility and transmissibility toward baseline when
 asymptomatic.

 <p>
 Used during recovery phase to transition from restricted to normal
 behavior. Restoration occurs only when person is asymptomatic, preventing
 premature restoration while infectious.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person state modifications</dd>
<dd><code>person</code> - current person state to evaluate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="returnPeopleFromBranch(io.github.ai4ci.abm.OutbreakState)">
<h3>returnPeopleFromBranch</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-681">returnPeopleFromBranch</a></span><wbr><span class="parameters">(<a href="../../abm/OutbreakState.html" title="interface in io.github.ai4ci.abm">OutbreakState</a>&nbsp;current)</span></div>
<div class="block">Returns all people to their previous behavior states from branches.

 <p>
 Reverses branching operations by recovering previous states from the state
 machine branch stack. Excludes dead people.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - current outbreak state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="screenLFT(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState)">
<h3>screenLFT</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-696">screenLFT</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Performs asymptomatic screening LFT test without reactivity tracking.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>person</code> - current person state</dd>
<dt>Returns:</dt>
<dd>the screening test result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="screenPCR(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState)">
<h3>screenPCR</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../../abm/TestResult.html" title="interface in io.github.ai4ci.abm">TestResult</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-714">screenPCR</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person)</span></div>
<div class="block">Performs asymptomatic screening PCR test without reactive testing flag.

 <p>
 Used for routine screening rather than symptom-driven diagnostics. Does
 not set reactive testing flag since this is not symptom-initiated.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>person</code> - current person state</dd>
<dt>Returns:</dt>
<dd>the screening test result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seekPcrIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext)">
<h3>seekPcrIfSymptomatic</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-730">seekPcrIfSymptomatic</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</span></div>
<div class="block">Performs diagnostic PCR test with 1-day symptom threshold. Seek a test if
 any symptoms (and compliant, and not recently tested)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>person</code> - current person state</dd>
<dd><code>context</code> - state machine context</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seekPcrIfSymptomatic(io.github.ai4ci.abm.ImmutablePersonHistory.Builder,io.github.ai4ci.abm.PersonState,io.github.ai4ci.flow.mechanics.StateMachineContext,int)">
<h3>seekPcrIfSymptomatic</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-750">seekPcrIfSymptomatic</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonHistory.Builder&nbsp;builder,
 <a href="../../abm/PersonState.html" title="interface in io.github.ai4ci.abm">PersonState</a>&nbsp;person,
 <a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context,
 int&nbsp;days)</span></div>
<div class="block">The person will test themselves using PCR (immediately) if they are
 symptomatic consecutively for a number of days, compliant and they have
 not recently been tested. Recent here is defined as they have had a PCR
 test within the last presumed incubation period of the disease</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder for person history updates</dd>
<dd><code>person</code> - current person state</dd>
<dd><code>context</code> - state machine context</dd>
<dd><code>days</code> - number of consecutive symptomatic days required to trigger
                testing</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toLastBranchPoint(io.github.ai4ci.flow.mechanics.StateMachineContext)">
<h3>toLastBranchPoint</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="State.BehaviourState.html" title="interface in io.github.ai4ci.flow.mechanics">State.BehaviourState</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/mechanics/StateUtils.html#line-783">toLastBranchPoint</a></span><wbr><span class="parameters">(<a href="StateMachineContext.html" title="interface in io.github.ai4ci.flow.mechanics">StateMachineContext</a>&nbsp;context)</span></div>
<div class="block">Retrieves previous behavior state from branch stack.

 <p>
 Used during state transitions to recover from temporary branched states.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - state machine context containing branch stack</dd>
<dt>Returns:</dt>
<dd>the previous behavior state from branch</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>