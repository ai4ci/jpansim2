<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Thu Feb 12 13:10:17 UTC 2026 -->
<title>DefaultOutbreakBaseliner (jpansim2 0.3.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-12">
<meta name="description" content="declaration: package: io.github.ai4ci.flow.builders, interface: DefaultOutbreakBaseliner">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DefaultOutbreakBaseliner.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.ai4ci.flow.builders</a></div>
<h1 title="Interface DefaultOutbreakBaseliner" class="title">Interface DefaultOutbreakBaseliner</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="DefaultModelBuilder.html" title="class in io.github.ai4ci.flow.builders">DefaultModelBuilder</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DefaultOutbreakBaseliner.svg"  style="max-width:60%;float:right;"></object>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/DefaultOutbreakBaseliner.html#line-49">DefaultOutbreakBaseliner</a></span></div>
<div class="block">Default logic for producing an <code>ImmutableOutbreakBaseline</code> from an
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm"><code>Outbreak</code></a> and execution configuration.

 <p>
 This interface provides a small, focussed default implementation of outbreak
 baselining that computes outbreak level aggregates and model calibration
 parameters. It is intended to be composed into higher level builders such as
 <a href="DefaultModelBuilder.html" title="class in io.github.ai4ci.flow.builders"><code>DefaultModelBuilder</code></a> where composition
 keeps responsibilities separated and makes it easy to swap alternative
 baseline strategies.

 <p>
 Composition with <a href="DefaultModelBuilder.html" title="class in io.github.ai4ci.flow.builders"><code>DefaultModelBuilder</code></a>:
 <code>DefaultModelBuilder</code> implements this interface and delegates to the
 default implementation defined here via
 <code>DefaultOutbreakBaseliner.super.baselineOutbreak(...)</code>. This makes the
 wiring explicit: callers can use <code>DefaultModelBuilder</code> as a ready‑made
 builder or substitute alternative baseliner logic by implementing this
 interface differently or by subclassing the model builder and overriding the
 delegation point.

 <p>
 Rationale: keeping outbreak baselining as a composable default makes the
 codebase easier to extend and test. The default implementation performs
 common tasks such as inferring a viral load transmissibility parameter,
 computing expected contacts per person, deriving severity cutoffs from the
 configured in‑host model and building an infectivity profile.

 <p>
 Downstream uses: the returned <code>ImmutableOutbreakBaseline</code> is used by
 the initialisation stage of the simulation and by runtime components that
 need global priors (for example transmission scaling, default policy state
 and severity thresholds). See
 <a href="DefaultModelBuilder.html" title="class in io.github.ai4ci.flow.builders"><code>DefaultModelBuilder</code></a> for an example of
 how this interface is composed into the concrete model builder.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Rob Challen</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default io.github.ai4ci.abm.ImmutableOutbreakBaseline</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#baselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)" class="member-name-link">baselineOutbreak</a><wbr>(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;outbreak,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Produce an outbreak baseline from the supplied outbreak and execution
 configuration.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="baselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)">
<h3>baselineOutbreak</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutableOutbreakBaseline</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/DefaultOutbreakBaseliner.html#line-93">baselineOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;outbreak,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Produce an outbreak baseline from the supplied outbreak and execution
 configuration.

 <p>
 This default implementation performs the following key steps:
 <ol>
 <li>Obtain the <a href="../../config/execution/ExecutionConfiguration.html" title="interface in io.github.ai4ci.config.execution"><code>ExecutionConfiguration</code></a> from the outbreak.</li>
 <li>Attempt a fast inference of the viral load transmissibility parameter
 with a fallback to a more robust method on failure.</li>
 <li>Compute expected contacts per person using <a href="../../abm/Calibration.html" title="class in io.github.ai4ci.abm"><code>Calibration</code></a>.</li>
 <li>Derive severity cutoffs by consulting the configured
 <a href="../../config/inhost/InHostConfiguration.html" title="interface in io.github.ai4ci.config.inhost"><code>InHostConfiguration</code></a>.</li>
 <li>Construct an infectivity profile using
 <a href="../../config/inhost/InHostConfiguration.html#getInfectivityProfile(double%5B%5D%5B%5D,double)"><code>InHostConfiguration.getInfectivityProfile(double[][], double)</code></a>.</li>
 <li>Set a conservative symptom duration from the configured severity
 profile quantile.</li>
 </ol>

 <p>
 Composition notes: when this method is composed into
 <a href="DefaultModelBuilder.html" title="class in io.github.ai4ci.flow.builders"><code>DefaultModelBuilder</code></a> the builder
 delegates to the default implementation shown here. Implementers that
 provide an alternative baseliner should preserve the expectation that
 people have already been baselined and avoid performing heavy IO or long
 running work inside this method unless the calling builder is specifically
 designed to parallelise or manage such work.

 <p>
 Notes for implementers: the method assumes people have already been
 baselined (see model builder sequencing). The try/catch around the
 transmission parameter inference provides a fast path for typical datasets
 while guarding against pathological cases where the quick routine fails.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - builder used to assemble the
                 <code>ImmutableOutbreakBaseline</code></dd>
<dd><code>outbreak</code> - the outbreak used to compute aggregates and calibration</dd>
<dd><code>sampler</code> - a sampler available for any stochastic choices during
                 baselining</dd>
<dt>Returns:</dt>
<dd>a built <code>ImmutableOutbreakBaseline</code> containing global priors
         and calibration values</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>