<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Thu Feb 12 13:26:30 UTC 2026 -->
<title>Repository (jpansim2 0.3.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-12">
<meta name="description" content="declaration: package: io.github.ai4ci.util, class: Repository">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Repository.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.ai4ci.util</a></div>
<h1 title="Class Repository" class="title">Class Repository</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.github.ai4ci.util.Repository</div>
</div>
<section class="class-description" id="class-description">
<hr>
<object type="image/svg+xml" data="Repository.svg"  style="max-width:60%;float:right;"></object>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-78">Repository</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">A reflection based data indexed repository class with support for foreign
 keys for data imported from multiple CSV files.

 <p>
 The repository is designed to be populated from CSV files specified by
 classes annotated with @Import, where each class corresponds to a CSV file
 and its fields correspond to columns in the CSV. The repository supports
 foreign key references between classes, allowing for efficient lookups based
 on these references. The foreign key references are specified by the return
 types of the builder setters in the immutable classes, and the repository
 resolves these references when loading the data from the CSV
 files. @Import.Id annotations are used to specify unique keys for each class,
 which are used for lookups and reference resolution.

 <p>
 The repository uses reflection to read the CSV files and populate the data
 store, and it builds indexes for efficient lookups based on specified mapping
 functions. The indexes are lazily populated on first query and cached for
 subsequent queries.

 <p>
 Only many:1 foreign key relations supported (no collections) in CSV.
 Relations are lazily resolved on first query and then cached for subsequent
 queries. This is done by building an index the first time a lookup is
 performed for a given mapping function, and then using the index for
 subsequent lookups with the same function. The mapping functions must be
 expressed in the form `X::getY` for them to work properly as keys for
 indexing. If they are not, then additional indexes may get created due to
 differences in serialization of the lambda expressions used as keys.

 <p>
 Integrates with immutables. The CSV reader uses the builder pattern of
 immutables to construct objects from the CSV data, and it uses reflection to
 determine the expected types of each column based on the builder setters of
 the immutable classes. This allows for seamless integration with immutable
 data classes and supports complex object construction from CSV data,
 including resolving foreign key references to other immutable classes in the
 repository.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Rob Challen</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Repository.CSVReader.html" class="type-name-link" title="class in io.github.ai4ci.util">Repository.CSVReader</a>&lt;<a href="Repository.CSVReader.html" title="type parameter in Repository.CSVReader">X</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">A CSV reader that reads a CSV file into a map of column name to value,
 converting to the expected type based on the builder setters of the class.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Repository.FunctionKey.html" class="type-name-link" title="class in io.github.ai4ci.util">Repository.FunctionKey</a>&lt;<a href="Repository.FunctionKey.html" title="type parameter in Repository.FunctionKey">X</a>,<wbr><a href="Repository.FunctionKey.html" title="type parameter in Repository.FunctionKey">Y</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">A key generated from the serialization of a lambda function.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Repository.Indexed.html" class="type-name-link" title="interface in io.github.ai4ci.util">Repository.Indexed</a>&lt;<a href="Repository.Indexed.html" title="type parameter in Repository.Indexed">Y</a> extends <a href="Repository.Indexed.html" title="interface in io.github.ai4ci.util">Repository.Indexed</a>&lt;<a href="Repository.Indexed.html" title="type parameter in Repository.Indexed">Y</a>&gt;&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">An interface for entities that can be indexed in the repository.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Repository.RepositoryIndex.html" class="type-name-link" title="class in io.github.ai4ci.util">Repository.RepositoryIndex</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Repository index that holds ValueIndex instances for different key types.</div>
</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Repository.SerializableFunction.html" class="type-name-link" title="interface in io.github.ai4ci.util">Repository.SerializableFunction</a>&lt;<a href="Repository.SerializableFunction.html" title="type parameter in Repository.SerializableFunction">X</a>,<wbr><a href="Repository.SerializableFunction.html" title="type parameter in Repository.SerializableFunction">Y</a>&gt;</code></div>
<div class="col-last even-row-color">
<div class="block">A serializable function interface that extends both Serializable and
 Function.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Repository.ValueIndex.html" class="type-name-link" title="class in io.github.ai4ci.util">Repository.ValueIndex</a>&lt;<a href="Repository.ValueIndex.html" title="type parameter in Repository.ValueIndex">Y</a>&gt;</code></div>
<div class="col-last odd-row-color">
<div class="block">Index for a given type.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.nio.file.Path)" class="member-name-link">Repository</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;baseDirectory)</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new repository with a base directory for CSV files.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;X,<wbr>
Y&gt;&nbsp;X</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findOne(Y,java.lang.Class,io.github.ai4ci.util.Repository.SerializableFunction)" class="member-name-link">findOne</a><wbr>(Y&nbsp;lookup,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;xCls,
 <a href="Repository.SerializableFunction.html" title="interface in io.github.ai4ci.util">Repository.SerializableFunction</a>&lt;X,<wbr>Y&gt;&nbsp;fn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find a single value of type X that links to a specific lookup value or
 type Y, based on a mapping function that maps X to Y.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;X,<wbr>
Y&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;X&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findValues(Y,java.lang.Class,io.github.ai4ci.util.Repository.SerializableFunction)" class="member-name-link">findValues</a><wbr>(Y&nbsp;lookup,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;xCls,
 <a href="Repository.SerializableFunction.html" title="interface in io.github.ai4ci.util">Repository.SerializableFunction</a>&lt;X,<wbr>Y&gt;&nbsp;fn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find values of type X that link to a specific lookup value or type Y,
 based on a mapping function that maps X to Y.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;X&gt;&nbsp;X</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getValue(java.lang.Class,java.lang.String)" class="member-name-link">getValue</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;cls,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fetch an item by unique id</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasType(java.lang.Class)" class="member-name-link">hasType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;cls)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the repository has any data for a given type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Repository.html" title="class in io.github.ai4ci.util">Repository</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#loadAll(java.nio.file.Path,java.lang.Class...)" class="member-name-link">loadAll</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;baseDir,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;clzs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Construct a repository class from a set of @Import annotated classes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;X&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;X&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#streamValues(java.lang.Class)" class="member-name-link">streamValues</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;cls)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Stream all values of a given type.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">String representation of the repository showing the number of items for
 each type and the indexes.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.nio.file.Path)">
<h3>Repository</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-690">Repository</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;baseDirectory)</span></div>
<div class="block">Create a new repository with a base directory for CSV files. The
 repository is populated by calling <a href="#loadAll(java.nio.file.Path,java.lang.Class...)"><code>loadAll(Path, Class...)</code></a> with a
 set of @Import annotated classes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>baseDirectory</code> - the base directory for CSV files</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="loadAll(java.nio.file.Path,java.lang.Class...)">
<h3>loadAll</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Repository.html" title="class in io.github.ai4ci.util">Repository</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-599">loadAll</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;baseDir,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;clzs)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Construct a repository class from a set of @Import annotated classes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>baseDir</code> - the directory of the CSV files</dd>
<dd><code>clzs</code> - a set of @Import annotated classes with</dd>
<dt>Returns:</dt>
<dd>a repository containing the data from the CSV files for the given
         classes, with references resolved</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is an error reading the CSV files or
                     processing the classes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findOne(Y,java.lang.Class,io.github.ai4ci.util.Repository.SerializableFunction)">
<h3 id="findOne(java.lang.Object,java.lang.Class,io.github.ai4ci.util.Repository.SerializableFunction)">findOne</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;X,<wbr>
Y&gt;</span>&nbsp;<span class="return-type">X</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-711">findOne</a></span><wbr><span class="parameters">(Y&nbsp;lookup,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;xCls,
 <a href="Repository.SerializableFunction.html" title="interface in io.github.ai4ci.util">Repository.SerializableFunction</a>&lt;X,<wbr>Y&gt;&nbsp;fn)</span></div>
<div class="block">Find a single value of type X that links to a specific lookup value or
 type Y, based on a mapping function that maps X to Y. This is a foreign
 key lookup equivalent and returns the single object that links to a key.
 This will generate an index the first time it is called and thereafter use
 the index.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>X</code> - the return type</dd>
<dd><code>Y</code> - the lookup type (foreign key)</dd>
<dt>Parameters:</dt>
<dd><code>lookup</code> - the value to lookup</dd>
<dd><code>xCls</code> - The type to return</dd>
<dd><code>fn</code> - must be expressed in the form `X::getY` for it to work
               properly as a key. If it is not then additional indexes will
               get created.</dd>
<dt>Returns:</dt>
<dd>the single value whose `fn` method returns the lookup value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findValues(Y,java.lang.Class,io.github.ai4ci.util.Repository.SerializableFunction)">
<h3 id="findValues(java.lang.Object,java.lang.Class,io.github.ai4ci.util.Repository.SerializableFunction)">findValues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;X,<wbr>
Y&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;X&gt;</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-739">findValues</a></span><wbr><span class="parameters">(Y&nbsp;lookup,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;xCls,
 <a href="Repository.SerializableFunction.html" title="interface in io.github.ai4ci.util">Repository.SerializableFunction</a>&lt;X,<wbr>Y&gt;&nbsp;fn)</span></div>
<div class="block">Find values of type X that link to a specific lookup value or type Y,
 based on a mapping function that maps X to Y. This is a foreign key lookup
 equivalent and returns objects that link to a key. This will generate an
 index the first time it is called and thereafter use the index.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>X</code> - the return type</dd>
<dd><code>Y</code> - the lookup type (foreign key)</dd>
<dt>Parameters:</dt>
<dd><code>lookup</code> - the value to lookup</dd>
<dd><code>xCls</code> - The type to return</dd>
<dd><code>fn</code> - must be expressed in the form `X::getY` for it to work
               properly as a key. If it is not then additional indexes will
               get created.</dd>
<dt>Returns:</dt>
<dd>a streeam of values whose `fn` methods return the lookup value</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getValue(java.lang.Class,java.lang.String)">
<h3>getValue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;X&gt;</span>&nbsp;<span class="return-type">X</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-753">getValue</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;cls,
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key)</span></div>
<div class="block">Fetch an item by unique id</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>X</code> - the type of the object</dd>
<dt>Parameters:</dt>
<dd><code>cls</code> - the type of the object</dd>
<dd><code>key</code> - a unique id for this object</dd>
<dt>Returns:</dt>
<dd>the value for the object of this class with this unique key</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasType(java.lang.Class)">
<h3>hasType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-765">hasType</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;cls)</span></div>
<div class="block">Check if the repository has any data for a given type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cls</code> - the type to check</dd>
<dt>Returns:</dt>
<dd>true if the repository has data for this type, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="streamValues(java.lang.Class)">
<h3>streamValues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;X&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html" title="class or interface in java.util.stream" class="external-link">Stream</a>&lt;X&gt;</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-858">streamValues</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;X&gt;&nbsp;cls)</span></div>
<div class="block">Stream all values of a given type.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>X</code> - the type of the objects</dd>
<dt>Parameters:</dt>
<dd><code>cls</code> - the type of the objects</dd>
<dt>Returns:</dt>
<dd>a stream of all objects of this type in the repository</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/util/Repository.html#line-870">toString</a></span>()</div>
<div class="block">String representation of the repository showing the number of items for
 each type and the indexes.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>a string representation of the repository</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>