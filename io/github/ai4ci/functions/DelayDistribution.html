<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Thu Feb 12 13:26:30 UTC 2026 -->
<title>DelayDistribution (jpansim2 0.3.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-12">
<meta name="description" content="declaration: package: io.github.ai4ci.functions, class: DelayDistribution">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DelayDistribution.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.ai4ci.functions</a></div>
<h1 title="Class DelayDistribution" class="title">Class DelayDistribution</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.github.ai4ci.functions.DelayDistribution</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="DelayDistribution.svg"  style="max-width:60%;float:right;"></object>
<div class="type-signature"><span class="annotations">@Immutable
</span><span class="modifiers">public abstract class </span><span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-41">DelayDistribution</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">A delay distribution representing a probability distribution in discrete time
 conditional on an event happening. This class is useful for generating
 per-day conditional hazards and modelling time-to-event data.

 <p>
 <b>Input Constraints:</b>
 <ul>
 <li>The profile array must contain non-negative values</li>
 <li>The profile array should not contain NaN or infinite values</li>
 <li>pAffected must be in the range [0, 1]</li>
 <li>Empty profile arrays are supported but result in empty distributions</li>
 </ul>

 <p>
 <b>Key Mathematical Relationships:</b> \[ \text{density}_i =
 \text{condDensity}_i \times p_{\text{affected}} \\ \text{condDensity}_i =
 \frac{\text{profile}_i}{\sum_j \text{profile}_j} \\ S_i = 1 - \sum_{j=0}^i
 \text{density}_j \\ h_i = \frac{\text{density}_i}{S_{i-1}} \quad (i > 0) \\
 h_0 = \text{density}_0 \] where S denotes the survival function and h denotes
 the hazard function.

 <p>
 Relationships are discrete versions of:
 https://grodri.github.io/glms/notes/c7s1</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link"><code>Serializable</code></a></li>
<li><code>GammaDistribution</code></li>
<li><code>ImmutableDelayDistribution</code></li>
<li><a href="../../../../serialized-form.html#io.github.ai4ci.functions.DelayDistribution">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">DelayDistribution</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#affected(int)" class="member-name-link">affected</a><wbr>(int&nbsp;intValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the proportion of individuals expected to be affected by day x.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#condDensity()" class="member-name-link">condDensity</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the conditional probability density function (PDF).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#condDensity(int)" class="member-name-link">condDensity</a><wbr>(int&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the conditional density value at the specified time index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#conditionedOn(double)" class="member-name-link">conditionedOn</a><wbr>(double&nbsp;pAffected)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new delay distribution with the specified ultimate affected
 probability.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convolveDensity(double%5B%5D)" class="member-name-link">convolveDensity</a><wbr>(double[]&nbsp;input)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the convolution of an input array with the density array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#convolveProfile(double%5B%5D)" class="member-name-link">convolveProfile</a><wbr>(double[]&nbsp;input)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the convolution of an input array with the profile array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cumulative(int)" class="member-name-link">cumulative</a><wbr>(int&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the cumulative distribution function (CDF) up to time x.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#density()" class="member-name-link">density</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the unconditional probability density function (PDF).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#density(int)" class="member-name-link">density</a><wbr>(int&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the unconditional density value at the specified time index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#discretisedGamma(double,double)" class="member-name-link">discretisedGamma</a><wbr>(double&nbsp;mean,
 double&nbsp;sd)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a discretised gamma distribution as a delay distribution.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#discretisedGamma(double,double,int)" class="member-name-link">discretisedGamma</a><wbr>(double&nbsp;mean,
 double&nbsp;sd,
 int&nbsp;length)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a discretised gamma distribution with specified length.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#empty()" class="member-name-link">empty</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates an empty delay distribution with zero length.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expected()" class="member-name-link">expected</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the expected number of events for sample size 1.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expected(double)" class="member-name-link">expected</a><wbr>(double&nbsp;sampleSize)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the expected number of events for the given sample size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPAffected()" class="member-name-link">getPAffected</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the probability of being affected by time infinity (1 - survival
 at infinity).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getProfile()" class="member-name-link">getProfile</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the raw unnormalised counts or probabilities supporting the delay
 distribution.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getQuantile(double)" class="member-name-link">getQuantile</a><wbr>(double&nbsp;d)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the smallest time index where cumulative probability exceeds the
 given threshold.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hazard()" class="member-name-link">hazard</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the unconditional hazard function.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hazard(int)" class="member-name-link">hazard</a><wbr>(int&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the hazard rate at the specified time index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#mean()" class="member-name-link">mean</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the mean of the conditional distribution.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#profile(int)" class="member-name-link">profile</a><wbr>(int&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the raw profile value at the specified time index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the length of the delay distribution (number of time points).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#survival()" class="member-name-link">survival</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the unconditional survival function.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a string representation showing the density array and pAffected.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#total()" class="member-name-link">total</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes the sum of all values in the profile array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#trimTail(double%5B%5D,double,boolean)" class="member-name-link">trimTail</a><wbr>(double[]&nbsp;x,
 double&nbsp;epsilon,
 boolean&nbsp;absolute)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Trims the tail of an array by removing elements until the cumulative sum
 reaches within epsilon of the total (either absolute or relative).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static double[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#trimZeros(double%5B%5D)" class="member-name-link">trimZeros</a><wbr>(double[]&nbsp;x)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Removes trailing zeros from an array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static io.github.ai4ci.functions.ImmutableDelayDistribution</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#unnormalised(double...)" class="member-name-link">unnormalised</a><wbr>(double...&nbsp;profile)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a DelayDistribution from raw unnormalised profile values.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>DelayDistribution</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-42">DelayDistribution</a></span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="discretisedGamma(double,double)">
<h3>discretisedGamma</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-52">discretisedGamma</a></span><wbr><span class="parameters">(double&nbsp;mean,
 double&nbsp;sd)</span></div>
<div class="block">Creates a discretised gamma distribution as a delay distribution.
 Automatically determines length based on mean + 2 standard deviations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mean</code> - mean of the gamma distribution</dd>
<dd><code>sd</code> - standard deviation of the gamma distribution</dd>
<dt>Returns:</dt>
<dd>discretised gamma delay distribution</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="discretisedGamma(double,double,int)">
<h3>discretisedGamma</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-65">discretisedGamma</a></span><wbr><span class="parameters">(double&nbsp;mean,
 double&nbsp;sd,
 int&nbsp;length)</span></div>
<div class="block">Creates a discretised gamma distribution with specified length. Gamma
 distribution is discretised by integrating over unit intervals.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mean</code> - mean of the gamma distribution</dd>
<dd><code>sd</code> - standard deviation of the gamma distribution</dd>
<dd><code>length</code> - number of time points in the discretisation</dd>
<dt>Returns:</dt>
<dd>discretised gamma delay distribution</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="empty()">
<h3>empty</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-87">empty</a></span>()</div>
<div class="block">Creates an empty delay distribution with zero length.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>empty DelayDistribution instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="trimTail(double[],double,boolean)">
<h3>trimTail</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-103">trimTail</a></span><wbr><span class="parameters">(double[]&nbsp;x,
 double&nbsp;epsilon,
 boolean&nbsp;absolute)</span></div>
<div class="block">Trims the tail of an array by removing elements until the cumulative sum
 reaches within epsilon of the total (either absolute or relative). Useful
 for reducing memory usage while preserving accuracy.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - array to trim</dd>
<dd><code>epsilon</code> - tolerance value</dd>
<dd><code>absolute</code> - if true, epsilon is absolute; if false, epsilon is
                 relative</dd>
<dt>Returns:</dt>
<dd>trimmed array</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="trimZeros(double[])">
<h3>trimZeros</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-125">trimZeros</a></span><wbr><span class="parameters">(double[]&nbsp;x)</span></div>
<div class="block">Removes trailing zeros from an array. Useful for cleaning up distributions
 where the tail has negligible probability.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - array to trim</dd>
<dt>Returns:</dt>
<dd>array with trailing zeros removed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unnormalised(double...)">
<h3>unnormalised</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">io.github.ai4ci.functions.ImmutableDelayDistribution</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-142">unnormalised</a></span><wbr><span class="parameters">(double...&nbsp;profile)</span></div>
<div class="block">Creates a DelayDistribution from raw unnormalised profile values.
 Automatically trims trailing zeros and sets pAffected to 1.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>profile</code> - raw counts or unnormalised probabilities</dd>
<dt>Returns:</dt>
<dd>normalised DelayDistribution instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="affected(int)">
<h3>affected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-154">affected</a></span><wbr><span class="parameters">(int&nbsp;intValue)</span></div>
<div class="block">Computes the proportion of individuals expected to be affected by day x.
 Equivalent to the cumulative distribution function at time x.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>intValue</code> - time index (day number)</dd>
<dt>Returns:</dt>
<dd>proportion affected by time x</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="condDensity()">
<h3>condDensity</h3>
<div class="member-signature"><span class="annotations">@Derived
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-164">condDensity</a></span>()</div>
<div class="block">Computes the conditional probability density function (PDF). Conditional
 on the event occurring, the sum equals 1.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>array of conditional probabilities</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="condDensity(int)">
<h3>condDensity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-178">condDensity</a></span><wbr><span class="parameters">(int&nbsp;x)</span></div>
<div class="block">Gets the conditional density value at the specified time index. Returns 0
 for indices outside the valid range.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - time index (must be non-negative)</dd>
<dt>Returns:</dt>
<dd>conditional density value at time x, or 0 if out of bounds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="conditionedOn(double)">
<h3>conditionedOn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="DelayDistribution.html" title="class in io.github.ai4ci.functions">DelayDistribution</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-191">conditionedOn</a></span><wbr><span class="parameters">(double&nbsp;pAffected)</span></div>
<div class="block">Creates a new delay distribution with the specified ultimate affected
 probability. Useful for sensitivity analysis or modelling different
 scenarios.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pAffected</code> - new ultimate affected probability in range [0, 1]</dd>
<dt>Returns:</dt>
<dd>new DelayDistribution instance with updated pAffected</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convolveDensity(double[])">
<h3>convolveDensity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-217">convolveDensity</a></span><wbr><span class="parameters">(double[]&nbsp;input)</span></div>
<div class="block">Computes the convolution of an input array with the density array. Useful
 for modelling probability-weighted delayed effects.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>input</code> - array to convolve</dd>
<dt>Returns:</dt>
<dd>convolved result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="convolveProfile(double[])">
<h3>convolveProfile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-228">convolveProfile</a></span><wbr><span class="parameters">(double[]&nbsp;input)</span></div>
<div class="block">Computes the convolution of an input array with the profile array. Useful
 for modelling delayed effects over time.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>input</code> - array to convolve</dd>
<dt>Returns:</dt>
<dd>convolved result</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cumulative(int)">
<h3>cumulative</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-239">cumulative</a></span><wbr><span class="parameters">(int&nbsp;x)</span></div>
<div class="block">Computes the cumulative distribution function (CDF) up to time x.
 Represents the probability of being affected by time x.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - time index (must be non-negative)</dd>
<dt>Returns:</dt>
<dd>cumulative probability in range [0, 1]</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="density()">
<h3>density</h3>
<div class="member-signature"><span class="annotations">@Derived
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-251">density</a></span>()</div>
<div class="block">Computes the unconditional probability density function (PDF). The sum of
 densities equals pAffected (not 1, unless pAffected = 1).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>array of unconditional probabilities</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="density(int)">
<h3>density</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-265">density</a></span><wbr><span class="parameters">(int&nbsp;x)</span></div>
<div class="block">Gets the unconditional density value at the specified time index. Returns
 0 for indices outside the valid range.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - time index (must be non-negative)</dd>
<dt>Returns:</dt>
<dd>density value at time x, or 0 if out of bounds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expected()">
<h3>expected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-276">expected</a></span>()</div>
<div class="block">Computes the expected number of events for sample size 1. Equivalent to
 the mean of the unconditional distribution.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>expected number of events</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expected(double)">
<h3>expected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-286">expected</a></span><wbr><span class="parameters">(double&nbsp;sampleSize)</span></div>
<div class="block">Computes the expected number of events for the given sample size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sampleSize</code> - number of individuals in the population</dd>
<dt>Returns:</dt>
<dd>expected number of events in the population</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPAffected()">
<h3>getPAffected</h3>
<div class="member-signature"><span class="annotations">@Default
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-302">getPAffected</a></span>()</div>
<div class="block">Returns the probability of being affected by time infinity (1 - survival
 at infinity). Defaults to 1.0 (all individuals will eventually be
 affected).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>probability in range [0, 1] representing ultimate affected
         proportion</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getProfile()">
<h3>getProfile</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-313">getProfile</a></span>()</div>
<div class="block">Returns the raw unnormalised counts or probabilities supporting the delay
 distribution. This array represents the raw observations or probability
 mass before normalisation.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>non-empty array of raw values (counts or unnormalised
         probabilities)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getQuantile(double)">
<h3>getQuantile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-323">getQuantile</a></span><wbr><span class="parameters">(double&nbsp;d)</span></div>
<div class="block">Finds the smallest time index where cumulative probability exceeds the
 given threshold. Equivalent to quantile function for the discrete
 distribution.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>d</code> - probability threshold in range [0, 1]</dd>
<dt>Returns:</dt>
<dd>smallest time index where cumulative > d</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hazard()">
<h3>hazard</h3>
<div class="member-signature"><span class="annotations">@Derived
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-336">hazard</a></span>()</div>
<div class="block">Computes the unconditional hazard function. Conditional probability of
 being affected at time i given survival to time i-1.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>array of hazard rates</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hazard(int)">
<h3>hazard</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-353">hazard</a></span><wbr><span class="parameters">(int&nbsp;x)</span></div>
<div class="block">Gets the hazard rate at the specified time index. Returns 0 for indices
 outside the valid range.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - time index (must be non-negative)</dd>
<dt>Returns:</dt>
<dd>hazard rate at time x, or 0 if out of bounds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mean()">
<h3>mean</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-364">mean</a></span>()</div>
<div class="block">Computes the mean of the conditional distribution. Represents the expected
 time until event occurrence among those affected.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>mean time to event (conditional on event occurrence)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="profile(int)">
<h3>profile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-377">profile</a></span><wbr><span class="parameters">(int&nbsp;x)</span></div>
<div class="block">Gets the raw profile value at the specified time index. Returns 0 for
 indices outside the valid range.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>x</code> - time index (must be non-negative)</dd>
<dt>Returns:</dt>
<dd>profile value at time x, or 0 if out of bounds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-387">size</a></span>()</div>
<div class="block">Returns the length of the delay distribution (number of time points).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of time points in the distribution</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="survival()">
<h3>survival</h3>
<div class="member-signature"><span class="annotations">@Derived
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-397">survival</a></span>()</div>
<div class="block">Computes the unconditional survival function. Probability of surviving
 (not being affected) up to each time point.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>array of survival probabilities</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-413">toString</a></span>()</div>
<div class="block">Returns a string representation showing the density array and pAffected.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>string representation of the distribution</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="total()">
<h3>total</h3>
<div class="member-signature"><span class="annotations">@Derived
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../src-html/io/github/ai4ci/functions/DelayDistribution.html#line-425">total</a></span>()</div>
<div class="block">Computes the sum of all values in the profile array. Used as a normalising
 constant for converting to conditional probability.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>sum of all profile values</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>