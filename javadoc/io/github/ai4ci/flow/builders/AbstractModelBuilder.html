<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Thu Feb 12 10:48:35 UTC 2026 -->
<title>AbstractModelBuilder (jpansim2 0.3.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-12">
<meta name="description" content="declaration: package: io.github.ai4ci.flow.builders, class: AbstractModelBuilder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/AbstractModelBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.ai4ci.flow.builders</a></div>
<h1 title="Class AbstractModelBuilder" class="title">Class AbstractModelBuilder</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.github.ai4ci.flow.builders.AbstractModelBuilder</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="DefaultModelBuilder.html" title="class in io.github.ai4ci.flow.builders">DefaultModelBuilder</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="AbstractModelBuilder.svg"  style="max-width:60%;float:right;"></object>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-74">AbstractModelBuilder</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">High level template for constructing and initialising the simulation model.

 <p>
 This abstract builder defines the five staged model construction process used
 by the simulation: setup, baseline outbreak, baseline people, initialise
 outbreak and initialise people. Concrete subclasses supply the domain
 specific logic by implementing the abstract hook methods such as
 <a href="#setupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)"><code>setupOutbreak(ModifiableOutbreak, SetupConfiguration, Sampler)</code></a> and
 <a href="#initialisePerson(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)"><code>initialisePerson(ImmutablePersonState.Builder, Person, Sampler)</code></a>.

 <p>
 Configuration driven behaviour: callers provide an instance of
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup"><code>SetupConfiguration</code></a> to
 <a href="#doSetupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)"><code>doSetupOutbreak(ModifiableOutbreak, SetupConfiguration, Sampler)</code></a>.
 The common implementation in this class sets the configuration on the
 outbreak instance and allocates the people container from the outbreak's
 population size. Implementations should consult the following fields on the
 setup configuration when implementing hooks:
 <ul>
 <li><a href="../../config/setup/SetupConfiguration.html#getInitialImports()"><code>SetupConfiguration.getInitialImports()</code></a>
 — suggested number of initial cases to seed when implementing seeding
 strategies.</li>
 <li><a href="../../config/setup/SetupConfiguration.html#getNetwork()"><code>SetupConfiguration.getNetwork()</code></a> —
 network topology and size options used when creating social structures; use
 <a href="../../config/setup/SetupConfiguration.html#hilbertBits()"><code>SetupConfiguration.hilbertBits()</code></a> or
 <a href="../../config/setup/SetupConfiguration.html#getHilbertCoords(java.lang.Integer)"><code>SetupConfiguration.getHilbertCoords(Integer)</code></a>
 for spatial placement where appropriate.</li>
 <li><a href="../../config/setup/SetupConfiguration.html#getDemographics()"><code>SetupConfiguration.getDemographics()</code></a>
 — demographic configuration used to draw population age/sex strata or
 location aware demographic attributes during person baselining.</li>
 </ul>

 <p>
 Rationale and extension points: separating build stages makes the
 construction process robust and testable. Each stage performs a distinct
 responsibility so callers may validate preconditions before proceeding.
 Subclasses should implement the abstract hooks to provide domain logic. When
 writing hook implementations consider keeping them side effect free where
 practical (builders return constructed immutable baseline/state objects) and
 prefer to perform expensive IO or CPU work in the setup stage where it is
 obvious to parallelise or cache results.

 <p>
 Concurrency: the base class initialises a thread safe people container via
 <a href="../../util/ThreadSafeArray.html" title="class in io.github.ai4ci.util"><code>ThreadSafeArray</code></a>. Implementers that modify shared
 outbreak structures should ensure thread safety; for example by using local
 concurrent collections, synchronisation or by confining state mutation to a
 single thread during setup.

 <p>
 Downstream consumers of the produced objects include the state machine
 initialisers and runtime components such as
 <a href="DefaultPersonInitialiser.html" title="interface in io.github.ai4ci.flow.builders"><code>DefaultPersonInitialiser</code></a> and the
 outbreak execution code which expect baselined outbreak and person objects
 before simulation starts.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>Rob Challen</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">AbstractModelBuilder</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Default constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract io.github.ai4ci.abm.ImmutableOutbreakBaseline</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#baselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)" class="member-name-link">baselineOutbreak</a><wbr>(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;outbreak,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Hook for producing outbreak baseline values.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract io.github.ai4ci.abm.ImmutablePersonBaseline</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#baselinePerson(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)" class="member-name-link">baselinePerson</a><wbr>(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;person,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Hook for producing person baseline values.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>io.github.ai4ci.abm.ImmutableOutbreakBaseline</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doBaselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)" class="member-name-link">doBaselineOutbreak</a><wbr>(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;o,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform outbreak baselining.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>io.github.ai4ci.abm.ImmutablePersonBaseline</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doBaselinePerson(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)" class="member-name-link">doBaselinePerson</a><wbr>(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;p,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform per-person baselining.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>io.github.ai4ci.abm.ImmutableOutbreakState</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doInitialiseOutbreak(io.github.ai4ci.abm.ImmutableOutbreakState.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)" class="member-name-link">doInitialiseOutbreak</a><wbr>(io.github.ai4ci.abm.ImmutableOutbreakState.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;o,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform outbreak initialisation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>io.github.ai4ci.abm.ImmutablePersonState</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doInitialisePerson(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)" class="member-name-link">doInitialisePerson</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;p,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform per-person initialisation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>io.github.ai4ci.abm.ModifiableOutbreak</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doSetupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)" class="member-name-link">doSetupOutbreak</a><wbr>(io.github.ai4ci.abm.ModifiableOutbreak&nbsp;outbreak,
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup">SetupConfiguration</a>&nbsp;config,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Perform initial outbreak setup.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract io.github.ai4ci.abm.ImmutableOutbreakState</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#initialiseOutbreak(io.github.ai4ci.abm.ImmutableOutbreakState.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)" class="member-name-link">initialiseOutbreak</a><wbr>(io.github.ai4ci.abm.ImmutableOutbreakState.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;outbreak,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Hook for creating the initial outbreak runtime state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract io.github.ai4ci.abm.ImmutablePersonState</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#initialisePerson(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)" class="member-name-link">initialisePerson</a><wbr>(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;person,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Hook for converting baseline values into a runtime person state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract io.github.ai4ci.abm.ModifiableOutbreak</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)" class="member-name-link">setupOutbreak</a><wbr>(io.github.ai4ci.abm.ModifiableOutbreak&nbsp;outbreak,
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup">SetupConfiguration</a>&nbsp;config,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Hook for domain specific outbreak setup.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>AbstractModelBuilder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-79">AbstractModelBuilder</a></span>()</div>
<div class="block">Default constructor.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="baselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)">
<h3>baselineOutbreak</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutableOutbreakBaseline</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-100">baselineOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;outbreak,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Hook for producing outbreak baseline values.

 <p>
 Subclasses should populate the outbreak baseline builder with static
 parameters such as policy defaults, disease baseline parameters and any
 other non dynamic settings. Keep the method side effect free and return
 the built baseline.

 <p>
 Implementation tip: compute and cache aggregates derived from the setup
 configuration (for example age pyramids, contact matrices or network
 degree distributions) here to speed up per‑person baselining.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the baseline builder to populate</dd>
<dd><code>outbreak</code> - the outbreak to base upon</dd>
<dd><code>sampler</code> - random sampler for any stochastic baseline choices</dd>
<dt>Returns:</dt>
<dd>the built outbreak baseline</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="baselinePerson(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)">
<h3>baselinePerson</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutablePersonBaseline</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-124">baselinePerson</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;person,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</span></div>
<div class="block">Hook for producing person baseline values.

 <p>
 Implementations should author non dynamic person attributes such as
 demographics, household membership and persistent behaviour settings.
 These baseline values are used later by the person initialiser to create
 runtime state.

 <p>
 Implementation tip: keep this method focused on stable attributes (that do
 not change at runtime). Any derived values needed for fast runtime
 initialisation can be precomputed here and stored in the baseline object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the person baseline builder to populate</dd>
<dd><code>person</code> - the target person instance</dd>
<dd><code>rng</code> - random sampler for any stochastic choices</dd>
<dt>Returns:</dt>
<dd>the built person baseline</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doBaselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)">
<h3>doBaselineOutbreak</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutableOutbreakBaseline</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-156">doBaselineOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;o,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Perform outbreak baselining.

 <p>
 This method checks that prior stages have completed successfully (setup,
 execution configuration and social network) and that people have been
 baselined before delegating to
 <a href="#baselineOutbreak(io.github.ai4ci.abm.ImmutableOutbreakBaseline.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)"><code>baselineOutbreak(ImmutableOutbreakBaseline.Builder, Outbreak, Sampler)</code></a>
 to populate outbreak level baseline parameters.

 <p>
 How configuration drives behaviour: the outbreak baseline should use
 demographic defaults from <a href="../../config/setup/SetupConfiguration.html#getDemographics()"><code>SetupConfiguration.getDemographics()</code></a>
 where population‑level priors are required. Network derived metrics
 available from <a href="../../config/setup/SetupConfiguration.html#getNetwork()"><code>SetupConfiguration.getNetwork()</code></a> can be used to
 compute baseline contact rates or global transmission modifiers.

 <p>
 Extension guidance: implementers may cache computed aggregates (for
 example age distributions or contact matrices) here so that per‑person
 baselining can remain lightweight and possibly parallel.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the outbreak baseline builder</dd>
<dd><code>o</code> - the outbreak to base</dd>
<dd><code>sampler</code> - a random sampler used during baselining</dd>
<dt>Returns:</dt>
<dd>the completed outbreak baseline</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if preconditions for baselining are not met</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doBaselinePerson(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)">
<h3>doBaselinePerson</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutablePersonBaseline</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-195">doBaselinePerson</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;p,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Perform per-person baselining.

 <p>
 This method validates that the outbreak has been sufficiently prepared
 (setup, execution configuration and social network) before delegating to
 <a href="#baselinePerson(io.github.ai4ci.abm.ImmutablePersonBaseline.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)"><code>baselinePerson(ImmutablePersonBaseline.Builder, Person, Sampler)</code></a>
 which is expected to populate non dynamic person-level baseline parameters
 such as demographic attributes or behaviour defaults.

 <p>
 How configuration drives behaviour: implementers should use the outbreak's
 attached <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup"><code>SetupConfiguration</code></a> to derive individual demographic
 attributes (for example by sampling age/sex strata from
 <a href="../../config/setup/SetupConfiguration.html#getDemographics()"><code>SetupConfiguration.getDemographics()</code></a>) and location assignment
 using <a href="../../config/setup/SetupConfiguration.html#getNetwork()"><code>SetupConfiguration.getNetwork()</code></a> options.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the person baseline builder</dd>
<dd><code>p</code> - the person to baseline</dd>
<dd><code>sampler</code> - a random sampler used during baseline</dd>
<dt>Returns:</dt>
<dd>the completed person baseline</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if preconditions for baselining are not met</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doInitialiseOutbreak(io.github.ai4ci.abm.ImmutableOutbreakState.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)">
<h3>doInitialiseOutbreak</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutableOutbreakState</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-232">doInitialiseOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutableOutbreakState.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;o,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Perform outbreak initialisation.

 <p>
 After baselining this method checks that all required outbreak baseline
 and setup steps have been completed before delegating to
 <a href="#initialiseOutbreak(io.github.ai4ci.abm.ImmutableOutbreakState.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)"><code>initialiseOutbreak(ImmutableOutbreakState.Builder, Outbreak, Sampler)</code></a>
 to produce the runtime outbreak state used by the simulator.

 <p>
 How configuration drives behaviour: the initial outbreak state may
 incorporate global modifiers derived from <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup"><code>SetupConfiguration</code></a> (for
 example network scaling factors or demographic aggregates) which are
 typically computed during the baselining stage.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the outbreak state builder</dd>
<dd><code>o</code> - the outbreak to initialise</dd>
<dd><code>sampler</code> - a random sampler used during initialisation</dd>
<dt>Returns:</dt>
<dd>the initial outbreak state</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if preconditions for initialisation are not met</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doInitialisePerson(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)">
<h3>doInitialisePerson</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutablePersonState</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-272">doInitialisePerson</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;p,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Perform per-person initialisation.

 <p>
 This method ensures the person and its owning outbreak are properly
 baselined and configured and then delegates to
 <a href="#initialisePerson(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)"><code>initialisePerson(ImmutablePersonState.Builder, Person, Sampler)</code></a>
 to set the person's runtime state (for example infection state, immunity
 and other dynamic attributes). The implementation is the canonical place
 to convert baseline parameters into runtime values.

 <p>
 How configuration drives behaviour: initial values such as starting
 immunity or seeded infection timers should be derived from a combination
 of the person baseline and outbreak level configuration (for example
 lookups from <a href="../../config/setup/SetupConfiguration.html#getDemographics()"><code>SetupConfiguration.getDemographics()</code></a>). The person
 initialiser is responsible for converting baseline priors into the
 concrete numeric state used by runtime components.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the person state builder</dd>
<dd><code>p</code> - the person to initialise</dd>
<dd><code>sampler</code> - a random sampler used during initialisation</dd>
<dt>Returns:</dt>
<dd>the initial person state</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if preconditions for initialisation are not met</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doSetupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)">
<h3>doSetupOutbreak</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ModifiableOutbreak</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-320">doSetupOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ModifiableOutbreak&nbsp;outbreak,
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup">SetupConfiguration</a>&nbsp;config,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Perform initial outbreak setup.

 <p>
 This method performs the first stage of the build: it records the supplied
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup"><code>SetupConfiguration</code></a> on the outbreak, allocates the thread safe
 people container sized by the configured population, and then delegates to
 <a href="#setupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)"><code>setupOutbreak(ModifiableOutbreak, SetupConfiguration, Sampler)</code></a>
 for domain specific setup (such as creating households, workplaces and
 seeding initial infections).

 <p>
 How configuration drives behaviour: implementers should read the
 <a href="../../config/setup/SetupConfiguration.html#getInitialImports()"><code>SetupConfiguration.getInitialImports()</code></a> value when deciding how
 many initial infections to add. Network topology and size should be
 derived from <a href="../../config/setup/SetupConfiguration.html#getNetwork()"><code>SetupConfiguration.getNetwork()</code></a> and demographic
 defaults from <a href="../../config/setup/SetupConfiguration.html#getDemographics()"><code>SetupConfiguration.getDemographics()</code></a>.

 <p>
 Extension guidance: heavy IO or long running construction work is best
 performed inside the <a href="#setupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)"><code>setupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak, io.github.ai4ci.config.setup.SetupConfiguration, io.github.ai4ci.util.Sampler)</code></a> hook where callers can control
 parallelism. Keep this common method deterministic and fail early for
 invalid configurations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>outbreak</code> - the modifiable outbreak instance to populate</dd>
<dd><code>config</code> - the setup configuration that drives topology and seeding</dd>
<dd><code>sampler</code> - a random sampler used for stochastic choices during setup</dd>
<dt>Returns:</dt>
<dd>the populated outbreak instance</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if the configuration is null or invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialiseOutbreak(io.github.ai4ci.abm.ImmutableOutbreakState.Builder,io.github.ai4ci.abm.Outbreak,io.github.ai4ci.util.Sampler)">
<h3>initialiseOutbreak</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutableOutbreakState</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-347">initialiseOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutableOutbreakState.Builder&nbsp;builder,
 <a href="../../abm/Outbreak.html" title="interface in io.github.ai4ci.abm">Outbreak</a>&nbsp;outbreak,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Hook for creating the initial outbreak runtime state.

 <p>
 Subclasses produce the outbreak state used by the simulator. This is where
 global runtime values that depend on the baselined outbreak are computed
 and stored. Keep the method side effect free other than producing the
 built state object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the outbreak state builder to populate</dd>
<dd><code>outbreak</code> - the outbreak to initialise</dd>
<dd><code>sampler</code> - a random sampler used during construction</dd>
<dt>Returns:</dt>
<dd>the initial outbreak state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialisePerson(io.github.ai4ci.abm.ImmutablePersonState.Builder,io.github.ai4ci.abm.Person,io.github.ai4ci.util.Sampler)">
<h3>initialisePerson</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ImmutablePersonState</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-374">initialisePerson</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ImmutablePersonState.Builder&nbsp;builder,
 <a href="../../abm/Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;person,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;rng)</span></div>
<div class="block">Hook for converting baseline values into a runtime person state.

 <p>
 Concrete builders should use this method to translate baseline attributes
 into the runtime state that will be used during simulation (for example
 initial infection timers, immunity levels and behaviour state). The method
 is the canonical place where baseline settings from
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup"><code>SetupConfiguration</code></a> and the baseline
 builders are combined to produce a person state.

 <p>
 Developer guidance: prefer idempotent transformations and avoid writing to
 shared mutable state from within this method; return the constructed
 <code>ImmutablePersonState</code> and let the caller attach it to the outbreak
 container.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>builder</code> - the runtime person state builder to populate</dd>
<dd><code>person</code> - the person to initialise</dd>
<dd><code>rng</code> - random sampler for stochastic initial values</dd>
<dt>Returns:</dt>
<dd>the initial person state</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setupOutbreak(io.github.ai4ci.abm.ModifiableOutbreak,io.github.ai4ci.config.setup.SetupConfiguration,io.github.ai4ci.util.Sampler)">
<h3>setupOutbreak</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">io.github.ai4ci.abm.ModifiableOutbreak</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/flow/builders/AbstractModelBuilder.html#line-416">setupOutbreak</a></span><wbr><span class="parameters">(io.github.ai4ci.abm.ModifiableOutbreak&nbsp;outbreak,
 <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup">SetupConfiguration</a>&nbsp;config,
 <a href="../../util/Sampler.html" title="class in io.github.ai4ci.util">Sampler</a>&nbsp;sampler)</span></div>
<div class="block">Hook for domain specific outbreak setup.

 <p>
 Concrete subclasses implement this method to create people, social
 structures and any other domain entities required by the simulation.
 Implementations should consult the supplied <a href="../../config/setup/SetupConfiguration.html" title="interface in io.github.ai4ci.config.setup"><code>SetupConfiguration</code></a>
 rather than external global state. The method returns the modified
 outbreak instance.

 <p>
 Suggested responsibilities for implementations:
 <ul>
 <li>Create persons and set baseline demographic placeholders or references
 to census data based on <a href="../../config/setup/SetupConfiguration.html#getDemographics()"><code>SetupConfiguration.getDemographics()</code></a>.</li>
 <li>Construct social structures (households, workplaces) informed by
 <a href="../../config/setup/SetupConfiguration.html#getNetwork()"><code>SetupConfiguration.getNetwork()</code></a> parameters.</li>
 <li>Seed initial infections using
 <a href="../../config/setup/SetupConfiguration.html#getInitialImports()"><code>SetupConfiguration.getInitialImports()</code></a> and any configured seeding
 strategy.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>outbreak</code> - the modifiable outbreak to configure</dd>
<dd><code>config</code> - the setup configuration driving creation choices</dd>
<dd><code>sampler</code> - a random sampler for stochastic choices</dd>
<dt>Returns:</dt>
<dd>the configured outbreak instance</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>