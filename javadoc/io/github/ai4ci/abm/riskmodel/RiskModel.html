<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Thu Feb 12 08:40:38 UTC 2026 -->
<title>RiskModel (jpansim2 0.3.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2026-02-12">
<meta name="description" content="declaration: package: io.github.ai4ci.abm.riskmodel, interface: RiskModel">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/RiskModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.ai4ci.abm.riskmodel</a></div>
<h1 title="Interface RiskModel" class="title">Interface RiskModel</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<object type="image/svg+xml" data="RiskModel.svg"  style="max-width:60%;float:right;"></object>
<div class="type-signature"><span class="annotations">@Immutable
</span><span class="modifiers">public interface </span><span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-79">RiskModel</a></span><span class="extends-implements">
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">Bayesian risk estimation model for determining individual infectious
 probability.

 <h2>Overview</h2>
 <p>
 Establishes an individual's risk on a given day. Risk on a given day is a
 function of the day of contact and the day on which the risk is estimated
 (usually this is going to be now). The risk is based on both direct evidence
 from tests and symptoms and indirect evidence from contacts. Because results
 from tests are delayed and symptoms evolve over time the risk has to be
 recalculated every day, as new information emerges about the index person but
 also about their contacts.

 <p>
 For example given a contact on day X, if the exposer develops symptoms on day
 X+1 (and reports them) then the risk to the exposee as calculated on day X+1
 will be more than on day X. Because of this there is a limited amount you can
 pre-calculate as the answer will depend on observations that may or may not
 have happened yet. What we can calculate is what the results of symptoms
 today mean for contacts in the past and how tests taken today impact risk to
 contacts in the past.

 <p>
 This model calculates an individual's risk of being infectious on a given day
 based on:
 <ul>
 <li>Direct evidence: symptoms and test results through time</li>
 <li>Indirect evidence: contact tracing and exposure history</li>
 </ul>

 <p>
 The risk evolves over time as new information becomes available. Calculations
 follow Bayesian updating principles with log-odds formulations for
 computational stability.

 <h2>Bayesian Framework</h2>
 <p>
 Risk is calculated using Bayes' theorem with log-odds transformation: \[
 \text{posterior odds} = \text{prior odds} \times \text{likelihood ratio} \]
 In log-odds space this becomes: \[
 \log\left(\frac{p}{1-p}\right)_{\text{posterior}} =
 \log\left(\frac{p}{1-p}\right)_{\text{prior}} + \log(\text{likelihood ratio})
 \]

 <h2>Evidence Sources</h2>
 <p>
 The model uses three types of convolution filters to weight evidence over
 time:
 <ul>
 <li><b>Symptom Kernel</b>: Temporal weighting of symptom reporting</li>
 <li><b>Test Kernel</b>: Temporal weighting of test results including
 delays</li>
 <li><b>Contacts Kernel</b>: Temporal weighting of exposure risk from
 contacts</li>
 </ul>

 <h2>Temporal Evolution</h2>
 <p>
 Evidence accumulation follows a dynamic programming approach where: \[
 \mathbf{logOdds}_{t} = f(\mathbf{logOdds}_{t-1}, \text{new evidence}_t) \]
 Each day's risk estimate incorporates both new evidence and re-evaluation of
 past evidence in light of new developments.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final org.slf4j.Logger</code></div>
<div class="col-second even-row-color"><code><a href="#log" class="member-name-link">log</a></code></div>
<div class="col-last even-row-color">
<div class="block">Logger for debugging and tracing risk model calculations</div>
</div>
<div class="col-first odd-row-color"><code>static final double</code></div>
<div class="col-second odd-row-color"><code><a href="#PROB_REPORTING_NEGATIVE_SYMPTOMS" class="member-name-link">PROB_REPORTING_NEGATIVE_SYMPTOMS</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Probability of symptom absence being reported when asymptomatic.</div>
</div>
<div class="col-first even-row-color"><code>static final double</code></div>
<div class="col-second even-row-color"><code><a href="#PROB_REPORTING_POSITIVE_SYMPTOMS" class="member-name-link">PROB_REPORTING_POSITIVE_SYMPTOMS</a></code></div>
<div class="col-last even-row-color">
<div class="block">Probability of reporting symptoms when symptomatic (app compliance).</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ConvolutionFilter.html" title="interface in io.github.ai4ci.abm.riskmodel">ConvolutionFilter</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getContactsKernel()" class="member-name-link">getContactsKernel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The contacts kernel is used to weight the contribution of past contacts to
 current risk.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default double[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getDirectLogOdds()" class="member-name-link">getDirectLogOdds</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Array of direct log-odds evidence for infectiousness on past days.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getDirectLogOddsInPast(int)" class="member-name-link">getDirectLogOddsInPast</a><wbr>(int&nbsp;i)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Retrieve direct log-odds evidence for a specific past day.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../Person.html" title="class in io.github.ai4ci.abm">Person</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getEntity()" class="member-name-link">getEntity</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The subject</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getIndirectLogOdds()" class="member-name-link">getIndirectLogOdds</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Indirect log-odds from contact exposures.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getLogOddsInfectiousToday()" class="member-name-link">getLogOddsInfectiousToday</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Log-odds of infectiousness today relative to baseline population
 prevalence.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getMaxLength()" class="member-name-link">getMaxLength</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Maximum temporal window for evidence retention.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getProbabilityInfectiousToday()" class="member-name-link">getProbabilityInfectiousToday</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Probability of being infectious today, incorporating all available
 evidence.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ConvolutionFilter.html" title="interface in io.github.ai4ci.abm.riskmodel">ConvolutionFilter</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSymptomKernel()" class="member-name-link">getSymptomKernel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The symptom kernel is used to weight the contribution of symptom evidence
 over time.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ConvolutionFilter.html" title="interface in io.github.ai4ci.abm.riskmodel">ConvolutionFilter</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTestKernel()" class="member-name-link">getTestKernel</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">The test kernel is used to weight the contribution of test evidence over
 time, accounting for delays in test results.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getTime()" class="member-name-link">getTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Simulation time</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1"><code>static <a href="RiskModel.html" title="interface in io.github.ai4ci.abm.riskmodel">RiskModel</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1"><code><a href="#initialise(io.github.ai4ci.abm.Person)" class="member-name-link">initialise</a><wbr>(<a href="../Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;person)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1">
<div class="block">Initialize a new risk model for a person with configured convolution
 kernels.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="RiskModel.html" title="interface in io.github.ai4ci.abm.riskmodel">RiskModel</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#update()" class="member-name-link">update</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Update risk model to current day with new evidence.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="log">
<h3>log</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">org.slf4j.Logger</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-83">log</a></span></div>
<div class="block">Logger for debugging and tracing risk model calculations</div>
</section>
</li>
<li>
<section class="detail" id="PROB_REPORTING_POSITIVE_SYMPTOMS">
<h3>PROB_REPORTING_POSITIVE_SYMPTOMS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-95">PROB_REPORTING_POSITIVE_SYMPTOMS</a></span></div>
<div class="block">Probability of reporting symptoms when symptomatic (app compliance). This
 represents reporting sensitivity through symptom reporting mechanisms.
 <p>
 This is 1 here because the symptoms are only recorded if the person has
 already been tested as compliant and is symptomatic. It is still possible
 if compliant that the person won't report negative symptoms in which case
 the absence of symptoms is not informative. The whole risk model is very
 sensitive to these values along with the kernels</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#io.github.ai4ci.abm.riskmodel.RiskModel.PROB_REPORTING_POSITIVE_SYMPTOMS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PROB_REPORTING_NEGATIVE_SYMPTOMS">
<h3>PROB_REPORTING_NEGATIVE_SYMPTOMS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-101">PROB_REPORTING_NEGATIVE_SYMPTOMS</a></span></div>
<div class="block">Probability of symptom absence being reported when asymptomatic.
 Represents the specificity of symptom absence reporting.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#io.github.ai4ci.abm.riskmodel.RiskModel.PROB_REPORTING_NEGATIVE_SYMPTOMS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initialise(io.github.ai4ci.abm.Person)">
<h3>initialise</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type"><a href="RiskModel.html" title="interface in io.github.ai4ci.abm.riskmodel">RiskModel</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-116">initialise</a></span><wbr><span class="parameters">(<a href="../Person.html" title="class in io.github.ai4ci.abm">Person</a>&nbsp;person)</span></div>
<div class="block">Initialize a new risk model for a person with configured convolution
 kernels.

 <p>
 Sets up temporal weighting functions from execution configuration: -
 Symptom kernel: \(K_{\text{symptom}}(t)\) - Test kernel:
 \(K_{\text{test}}(t)\) - Contacts kernel: \(K_{\text{contacts}}(t) /
 \text{expectedContacts}\)</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>person</code> - the individual to model</dd>
<dt>Returns:</dt>
<dd>initialized risk model ready for evidence accumulation</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getContactsKernel()">
<h3>getContactsKernel</h3>
<div class="member-signature"><span class="annotations">@Redacted
</span><span class="return-type"><a href="ConvolutionFilter.html" title="interface in io.github.ai4ci.abm.riskmodel">ConvolutionFilter</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-166">getContactsKernel</a></span>()</div>
<div class="block">The contacts kernel is used to weight the contribution of past contacts to
 current risk. It determines how much influence a contact from a given day
 in the past has on today's risk estimate. The kernel should be calibrated
 based on the typical incubation period and infectiousness profile of the
 disease, as well as the expected delay in symptom onset and test results.
 The kernel values should be non-negative and typically sum to 1 for
 interpretability, but this is not strictly required as long as the
 relative weights are meaningful.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>convolution filter for contact exposure evidence weighting</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDirectLogOdds()">
<h3>getDirectLogOdds</h3>
<div class="member-signature"><span class="annotations">@Default
</span><span class="modifiers">default</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-183">getDirectLogOdds</a></span>()</div>
<div class="block">Array of direct log-odds evidence for infectiousness on past days. Index 0
 represents today, increasing indices represent further in the past.
 Calculated as:
 \[\log\left(\frac{p(\text{infectious}|evidence)}{1-p(\text{infectious}|evidence)}\right)\]

 <p>
 What is this evidence of this person being infectious 0..N days in the
 past judged today expressed as a log odds, based on symptoms and test
 results that are available today.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>array of log-odds evidence for infectiousness on past days, where
         index 0 is today</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDirectLogOddsInPast(int)">
<h3>getDirectLogOddsInPast</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-192">getDirectLogOddsInPast</a></span><wbr><span class="parameters">(int&nbsp;i)</span></div>
<div class="block">Retrieve direct log-odds evidence for a specific past day.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>i</code> - days in the past (0 = today, 1 = yesterday, etc.)</dd>
<dt>Returns:</dt>
<dd>log-odds evidence for infectiousness on that day</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEntity()">
<h3>getEntity</h3>
<div class="member-signature"><span class="return-type"><a href="../Person.html" title="class in io.github.ai4ci.abm">Person</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-202">getEntity</a></span>()</div>
<div class="block">The subject</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the person entity associated with this risk model</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIndirectLogOdds()">
<h3>getIndirectLogOdds</h3>
<div class="member-signature"><span class="annotations">@Lazy
</span><span class="modifiers">default</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-226">getIndirectLogOdds</a></span>()</div>
<div class="block">Indirect log-odds from contact exposures.

 <p>
 Calculates risk contribution from contact tracing: \[ LR_{\text{indirect}}
 = \sum_{i=0}^{N_{\text{contacts}}}
 \sum_{\text{contact}\in\text{contacts}_i} LR_{\text{contact}}(i) \times
 K_{\text{contacts}}(i) \]

 <p>
 Unlike direct evidence, contact risk is recalculated daily rather than
 updated incrementally, as contact risk evolves with changing contact
 states. What will the evidence be for this person being infectious today
 as a result of their past contacts. This value is would change
 retrospectively if you estimated it again the next day as the contacts
 test results and symptoms change. However this is only useful information
 if we are interested in contacts of contacts. We are no so we do the
 simpler thing which is look at recent contacts and get an estimate for
 today only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>log-likelihood ratio from contact exposures</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogOddsInfectiousToday()">
<h3>getLogOddsInfectiousToday</h3>
<div class="member-signature"><span class="annotations">@Lazy
</span><span class="modifiers">default</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-292">getLogOddsInfectiousToday</a></span>()</div>
<div class="block">Log-odds of infectiousness today relative to baseline population
 prevalence.

 <p>
 Represents the combined evidence from direct measurements and contact
 exposures: \[ LR_{\text{total}} = LR_{\text{direct}}(0) +
 LR_{\text{indirect}} \]
 <p>
 What is the longest it is worth holding information about infection risk
 for? The contacts kernel retrospectiveSize is one sensible limit. Beyond
 that there is no value to the information anyway for determining future
 risk. Is this</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>combined log-likelihood ratio for infectiousness today</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMaxLength()">
<h3>getMaxLength</h3>
<div class="member-signature"><span class="annotations">@Derived
</span><span class="modifiers">default</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-309">getMaxLength</a></span>()</div>
<div class="block">Maximum temporal window for evidence retention.

 <p>
 Determined by the largest retrospective size among the convolution
 kernels: \[ \text{maxLength} =
 \max(\text{symptomKernel.retrospectiveSize},
 \text{testKernel.retrospectiveSize},
 \text{contactsKernel.retrospectiveSize}) \]</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>maximum number of days to retain evidence</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getProbabilityInfectiousToday()">
<h3>getProbabilityInfectiousToday</h3>
<div class="member-signature"><span class="annotations">@Lazy
</span><span class="modifiers">default</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-336">getProbabilityInfectiousToday</a></span>()</div>
<div class="block">Probability of being infectious today, incorporating all available
 evidence.

 <p>
 Calculated using Bayesian updating with logistic transformation: \[
 p_{\text{infectious}} =
 \text{expit}\left(\log\left(\frac{p_{\text{prior}}}{1-p_{\text{prior}}}\right)
 + LR_{\text{direct}} + LR_{\text{indirect}}\right) \] where
 \(\text{expit}(x) = \frac{e^x}{1 + e^x}\) is the logistic function.

 <p>
 Uses a small prior (0.0025) to prevent numerical issues with extreme
 log-odds.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>probability of infectiousness today âˆˆ [0,1]</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSymptomKernel()">
<h3>getSymptomKernel</h3>
<div class="member-signature"><span class="annotations">@Redacted
</span><span class="return-type"><a href="ConvolutionFilter.html" title="interface in io.github.ai4ci.abm.riskmodel">ConvolutionFilter</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-362">getSymptomKernel</a></span>()</div>
<div class="block">The symptom kernel is used to weight the contribution of symptom evidence
 over time. It determines how much influence symptoms reported on a given
 day in the past have on today's risk estimate. The kernel should be
 calibrated based on the typical incubation period and symptom onset
 profile of the disease, as well as the expected delay in symptom
 reporting. The kernel values should be non-negative and typically sum to 1
 for interpretability, but this is not strictly required as long as the
 relative weights are meaningful.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>convolution filter for symptom evidence weighting</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTestKernel()">
<h3>getTestKernel</h3>
<div class="member-signature"><span class="annotations">@Redacted
</span><span class="return-type"><a href="ConvolutionFilter.html" title="interface in io.github.ai4ci.abm.riskmodel">ConvolutionFilter</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-379">getTestKernel</a></span>()</div>
<div class="block">The test kernel is used to weight the contribution of test evidence over
 time, accounting for delays in test results. It determines how much
 influence a test result from a given day in the past has on today's risk
 estimate, based on the typical delay from testing to result and the
 temporal profile of test sensitivity. The kernel should be calibrated
 based on the expected distribution of test result delays and the
 sensitivity profile of the tests used in the simulation. The kernel values
 should be non-negative and typically sum to 1 for interpretability, but
 this is not strictly required as long as the relative weights are
 meaningful.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>convolution filter for test evidence weighting</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTime()">
<h3>getTime</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-387">getTime</a></span>()</div>
<div class="block">Simulation time</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current simulation time step</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update()">
<h3>update</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="RiskModel.html" title="interface in io.github.ai4ci.abm.riskmodel">RiskModel</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/io/github/ai4ci/abm/riskmodel/RiskModel.html#line-438">update</a></span>()</div>
<div class="block">Update risk model to current day with new evidence.

 Update the risk model to the current day, based on the current state of
 the person. (The risk model is most likely immutable so this will be a new
 one). This is called during the update cycle at the point that the history
 is updated..
 <p>
 Performs one step of temporal Bayesian filtering: \[ \mathbf{evidence}_{t}
 = \text{update}(\mathbf{evidence}_{t-1}, \text{observations}_t) \]

 <p>
 Called during the daily update cycle when new history becomes available.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>updated risk model with incremented time and new evidence
         incorporated</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2026. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>